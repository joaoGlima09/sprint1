<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calculadora Financeira</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

    <div id="div_container" class="div_container">

        <div id="div_resultado" class="div_resultado">

            <img src="images/economia.png" alt="imagem_fundo">

        </div>
        
        <div id="div_calculadora" class="div_calculadora">
        <h1> Simule suas Economias </h1> <br>
        <!-- <h2> Veja quanto você economizara com nosso negócio</h2> <br> -->


            <!-- Formalidades -->


            <input placeholder="Nome da empresa" type="text" id="input_nome_empresa"> <br> <br>


            <!-- Dados pra taxa de absenteísmo -->

            <input placeholder="Quantidade de Funcionários" type="number" id="input_quant_funcionarios"> <br> <br>

            <input placeholder="Horas total de atestados (ultimos 3 meses)" type="number" id="input_horas_atestados_total"> <br> <br>

            <input placeholder="Horas de atestados médicos (ultimo 3 meses)" type="number" id="input_atestados_medicos"> <br> <br>

            <input placeholder="Gasto com funcionários mensais" type="number" id="input_gasto_mensal"> <br> <br>


            <!-- 
                20 dias 8 horas por dia
                Quantos dias por mês seus funcionários trabalham: <input type="number" id="input_dias_trabalhados"> <br> <br> 
            -->

            <!-- Calcula de Economia -->

            <!-- Quanto você paga por mês aos seus funcionários (em reais): <input type="number" id="input_salario_funcionarios"> <br> <br> -->

     
                <button onclick="calcularTaxaDeAbsenteismo()"> <b> Calcular Economia </b> </button>
    

            <div id="div_mensagem"> </div>
            
        </div>
    </div>

</body>

</html>

<!-- 



 -->

<script>

    function calcularTaxaDeAbsenteismo() {

        // Nome da Empresa

        let nomeEmpresa = input_nome_empresa.value

        // variaveis de calculo para a taxa de Absenteismo
        
        let atestadosUltimosTresMeses = Number(input_horas_atestados_total.value)
        let atestadosMedicosUltimosTresMeses = Number(input_atestados_medicos.value)
        let qtdFuncionarios = Number(input_quant_funcionarios.value)
        let gastoComFuncionarioMensal = Number(input_gasto_mensal.value)
        
        let diasTrabalho = 20
        let horasTrabalhoPorDia = 8

        let horasTrabalhoPorMes = diasTrabalho * horasTrabalhoPorDia
        let horasTrabalhadasPorAno = horasTrabalhoPorMes * 12
        
        let atestadosUltimoMes = atestadosUltimosTresMeses / 3
        let atestadosMedicosUltimoMes = atestadosMedicosUltimosTresMeses / 3

        // let mediaDeAtestadosAnuais = atestadosUltimosTresMeses * 4

        let horasMensaisTrabalhadasPorFuncionarios = horasTrabalhoPorMes * qtdFuncionarios

        let taxaAbsenteismoMensal = ((atestadosUltimoMes / horasMensaisTrabalhadasPorFuncionarios) * 100).toFixed(2)
        let taxaAbesenteismoAnual = (taxaAbsenteismoMensal * 12).toFixed(2)

        let taxaDeAtestadosMedicosMensal = ((atestadosMedicosUltimoMes / horasMensaisTrabalhadasPorFuncionarios) * 100).toFixed(2)
        let taxaDeAtestadosMedicosAnual = (taxaDeAtestadosMedicosMensal * 12).toFixed(2)

        // let relacaoEntreAtestadosEAtestadosMedicosAnual = (taxaAbesenteismoAnual - taxaDeAtestadosMedicosAnual).toFixed(2)

        let mediaSalarialEmpresa = gastoComFuncionarioMensal / qtdFuncionarios
        let mediaSalarialAnual = (mediaSalarialEmpresa * 12).toFixed(2)
        let pagamentoPorHora = (mediaSalarialEmpresa / horasTrabalhadasPorAno).toFixed(2)

        let desperdicioPorHora = ((horasTrabalhadasPorAno / 100) * taxaDeAtestadosMedicosAnual).toFixed(2)
        let desperdicioDeSalario = ((pagamentoPorHora * desperdicioPorHora * qtdFuncionarios) * 12).toFixed(2)

        div_resultado.innerHTML = ` 

        <img src="images/economia.png" alt="imagem_fundo">
        
        <h2> <br> <br> A <b> taxa de absenteismo </b> da <p> ${nomeEmpresa} </p> é <b> ${taxaAbesenteismoAnual}% </b> anual <br><br>
        
        Dessa taxa de absenteismo <b> ${taxaDeAtestadosMedicosAnual}% </b> podem ter ocorrido devido as <b> mudanças de temperatura </b> <br><br>

        Com isso, você paga em salários <b> R$${desperdicioDeSalario} </b>ao ano, sendo que o funcionário não produz <br><br> </h2>

        `

    }

    

</script>